name: defaultValue
type: object
blackbox: true
label: Default Value
sort_no: 160
visible_on: >-
  {{formData.type &&
  ['autonumber','formula','summary','image','file'].indexOf(formData.type) < 0}}
amis:
  type: service
  className:
    antd-Form-item: true
    antd-Form-item--normal: true
    m-0: true
    'md:border-b': global.mode === "read"
    defaultValue_field: true
    flex: true
  schemaApi:
    url: '${context.rootUrl}/service/api/object_fields/defaultValue/schema'
    method: post
    data:
      object: '${object}'
      name: '${name}'
      options: '${options|filter:label:isTrue|filter:value:isTrue}'
      type: '${type}'
      reference_to: '${reference_to}'
      multiple: '${multiple}'
      filtersFunction: '${filtersFunction}'
      reference_to_field: '${reference_to_field}'
      mode: '${global.mode}'
      scale: '${scale}'
      _id: '${_id}'
    trackExpression: >-
      ${object},${options|filter:label:isTrue|filter:value:isTrue|pick:label,value|json},${type},${reference_to},${reference_to_field},${multiple},${filtersFunction},${_id},${scale}
    headers:
      Authorization: 'Bearer ${context.tenantId},${context.authToken}'
  onEvent:
    fetchSchemaInited:
      weight: 0
      actions:
        - actionType: setValue
          componentId: service_detail_page
          args:
            value:
              defaultValue: '${event.data.body[0].value}'
          expression: 'global.mode ===''read'' && event.data.body[0].value'
